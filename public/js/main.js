(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(47)},26:function(e,t,a){},27:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(19),r=a.n(c),s=(a(26),a(3)),i=a(4),o=a(6),u=a(5),m=a(2),h=a(7),d=(a(27),a(28),a(8)),b=a.n(d),E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={searchText:""},a.searchBoxChange=a.searchBoxChange.bind(Object(m.a)(a)),a.searchBoxKeypress=a.searchBoxKeypress.bind(Object(m.a)(a)),a.searchSubmitPressed=a.searchSubmitPressed.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("nav",{className:"navbar is-primary",role:"navigation","aria-label":"main navigation"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"navbar-brand"},l.a.createElement("a",{className:"navbar-item",href:"/"},l.a.createElement("span",{className:"is-size-2"},"Blocko")),l.a.createElement("a",{href:"#",role:"button",className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},l.a.createElement("span",{"aria-hidden":"true"}),l.a.createElement("span",{"aria-hidden":"true"}),l.a.createElement("span",{"aria-hidden":"true"}))),l.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu"},l.a.createElement("div",{className:"navbar-start"}),l.a.createElement("div",{className:"navbar-end"},l.a.createElement("div",{className:"navbar-item"},l.a.createElement("div",{className:"field is-grouped"},l.a.createElement("p",{className:"control"},l.a.createElement("button",{className:"button is-light",onClick:this.searchSubmitPressed},"Search")),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"text",placeholder:"Block height",onChange:this.searchBoxChange,onKeyDown:this.searchBoxKeypress}))))))))}},{key:"searchBoxKeypress",value:function(e){13==e.keyCode&&this.props.searchSubmitted(this.state.searchText)}},{key:"searchBoxChange",value:function(e){this.setState({searchText:e.target.value})}},{key:"searchSubmitPressed",value:function(){this.props.searchSubmitted(this.state.searchText)}},{key:"componentDidMount",value:function(){document.addEventListener("DOMContentLoaded",function(){var e=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);e.length>0&&e.forEach(function(e){e.addEventListener("click",function(){var t=e.dataset.target,a=document.getElementById(t);e.classList.toggle("is-active"),a.classList.toggle("is-active")})})})}}]),t}(n.Component),v=a(9),f=a.n(v),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={recent:[]},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",{className:"title is-size-2"},"Recent Blocks"),l.a.createElement("table",{className:"table is-narrow is-bordered is-fullwidth"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Height"),l.a.createElement("th",null,"Size"),l.a.createElement("th",null,"Time"),l.a.createElement("th",null,"Transactions"))),l.a.createElement("tbody",null,this.rowsJsx())))}},{key:"componentDidMount",value:function(){this.getRecentBlocks()}},{key:"rowsJsx",value:function(){var e=this.state.recent,t=this.props.blockSelected,a=[];return e.forEach(function(e){var n=f.a.unix(e.timestamp).format("h:mm a");a.push(l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,l.a.createElement("a",{href:"#",onClick:function(){return t(e.height)}},e.height)),l.a.createElement("td",null,e.size),l.a.createElement("td",null,n),l.a.createElement("td",null,e.tx_count)))}),a}},{key:"getRecentBlocks",value:function(){var e=this,t=this.props.data_url;b.a.get(t+"blocks").then(function(t){console.log(t.data),e.setState({recent:t.data})}).catch(function(e){console.log(e)})}}]),t}(n.Component);var g=function(e){var t,a=e.block;return a?(t=a.transactions.map(function(e){return l.a.createElement("tr",{key:e.txid},l.a.createElement("td",null,e.fee),l.a.createElement("td",null,e.size),l.a.createElement("td",null,e.weight))}),l.a.createElement("div",null,l.a.createElement("h1",{className:"title is-size-2"},"Block Information: ",a.height),"Size: ",a.size,l.a.createElement("br",null),"Day: ",f.a.unix(a.timestamp).format("dddd, MMMM Do, YYYY"),l.a.createElement("br",null),"Time: ",f.a.unix(a.timestamp).format("h:mm a"),l.a.createElement("br",null),"Transactions: ",a.tx_count,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",{className:"title is-size-4"},"Transactions (Last 25)"),l.a.createElement("table",{className:"table is-narrow is-bordered is-fullwidth"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Fee"),l.a.createElement("th",null,"Size"),l.a.createElement("th",null,"Weight"))),l.a.createElement("tbody",null,t)),l.a.createElement("br",null),l.a.createElement("br",null))):l.a.createElement("div",{className:"has-text-centered has-text-grey is-size-3"},l.a.createElement("h2",null,"No block available"))},p=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={data_url:"https://blockstream.info/api/",block:null},a.blockSelected=a.blockSelected.bind(Object(m.a)(a)),a.searchSubmitted=a.searchSubmitted.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.data_url,a=e.block;return l.a.createElement("div",null,l.a.createElement(E,{searchSubmitted:this.searchSubmitted}),l.a.createElement("section",{className:"section"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"columns"},l.a.createElement("div",{className:"column"},l.a.createElement(k,{data_url:t,blockSelected:this.blockSelected})),l.a.createElement("div",{className:"column is-half"},l.a.createElement(g,{block:a}))))))}},{key:"blockSelected",value:function(e){this.getBlockTx(e)}},{key:"searchSubmitted",value:function(e){this.getBlockTx(e)}},{key:"getBlockTx",value:function(e){var t=this,a=this.state.data_url;b.a.get(a+"block-height/"+e).then(function(e){t.getBlock(e.data)}).catch(function(e){console.log(e),t.setState({block:null})})}},{key:"getBlock",value:function(e){var t=this,a=this.state.data_url;b.a.get(a+"block/"+e).then(function(a){t.getBlockTransactions(a.data,e)}).catch(function(e){console.log(e),t.setState({block:null})})}},{key:"getBlockTransactions",value:function(e,t){var a=this,n=this.state.data_url;b.a.get(n+"block/"+t+"/txs").then(function(t){e.transactions=t.data,a.setState({block:e})}).catch(function(e){console.log(e),a.setState({block:null})})}}]),t}(n.Component);r.a.render(l.a.createElement(p,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.e3fe4463.chunk.js.map